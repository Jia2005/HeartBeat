<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Are You Sure?</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="sad.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">

</head>
<body>
    <div id="cute-character" class="cute-character">
        <div class="body">
            <div class="ears left"></div>
            <div class="ears right"></div>
            <div class="face">
                <div class="eye left"></div>
                <div class="eye right"></div>
                <div class="blush left"></div>
                <div class="blush right"></div>
                <div class="mouth"></div>
            </div>
            <div class="hammer">
                <div class="handle"></div>
                <div class="head"></div>
            </div>
        </div>
    </div>

    <div id="decorations" class="fixed inset-0 overflow-hidden pointer-events-none"></div>    
    <div class="container">
        <div id="maybe-response" class="card-shadow">
            <div style="margin-bottom: 1.5rem; position: relative; width: 6rem; height: 6rem; margin-left: auto; margin-right: auto;">
                <div class="crying-face">
                    <div class="eyes">
                        <div class="eye">
                            <div class="tear tear-left"></div>
                        </div>
                        <div class="eye">
                            <div class="tear tear-right"></div>
                        </div>
                    </div>
                    <div class="mouth"></div>
                </div>
            </div>
            
            <h2>Are you sure??</h2>
            <p class="italic text-primary" style="font-size: 1.25rem; margin-bottom: 0.5rem;">Don't you love me? <span style="font-size: 1.5rem;">ðŸ’”</span></p>
            <p class="text-gray-600" style="margin-bottom: 1.5rem;">I was really looking forward to spending time with you...</p>
            
            <div class="button-container">
                <button id="runaway-btn" class="running-button">
                    I'm really busy
                </button>
                <div id="break-left" class="break-left">I'm re</div>
                <div id="break-right" class="break-right">ally busy</div>
                <a id="fixed-btn" href="happy.html" class="fixed-button" style="display: none;">I'll make time for you</a>
            </div>
            
            <div class="grid">
                <a href="happy.html" class="yes-button">
                    <i class="fas fa-heart" style="margin-right: 0.5rem;"></i>Yes
                </a>
                <a href="happy.html" class="yes-button">
                    <i class="fas fa-heart-circle" style="margin-right: 0.5rem;"></i>Of course yes
                </a>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('maybe-response').classList.add('fade-in');
            }, 100);
            
            const runawayBtn = document.getElementById('runaway-btn');
            const breakLeftPiece = document.getElementById('break-left');
            const breakRightPiece = document.getElementById('break-right');
            const fixedBtn = document.getElementById('fixed-btn');
            const cuteCharacter = document.getElementById('cute-character');
            
            let slideAwayTriggered = false;
            let attempts = 0;
            let hammerTime = false;
            
            runawayBtn.addEventListener('mouseover', function(e) {
                if (slideAwayTriggered || hammerTime) return;
                
                attempts++;
                
                if (attempts >= 5 && !hammerTime) {
                    hammerTime = true;
                    summonHammerCharacter();
                    return;
                }
                
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;                
                const btnRect = this.getBoundingClientRect();
                const padding = 20; 
                const maxX = viewportWidth - btnRect.width - padding;
                const minX = padding;
                const maxY = viewportHeight - btnRect.height - padding;
                const minY = padding;
            
                let newX = Math.floor(Math.random() * (maxX - minX)) + minX;
                let newY = Math.floor(Math.random() * (maxY - minY)) + minY;
                
                const parentRect = this.parentElement.getBoundingClientRect();
                const relativeX = newX - parentRect.left;
                const relativeY = newY - parentRect.top;
                
                this.style.left = relativeX + 'px';
                this.style.top = relativeY + 'px';
                this.style.transform = 'none';
                
                if (Math.random() < 0.1) {
                    slideAwayTriggered = true;
                    this.classList.add('slide-away');
                    
                    setTimeout(() => {
                        this.classList.remove('slide-away');
                        this.style.left = '50%';
                        this.style.top = '0';
                        this.style.transform = 'translateX(-50%)';
                        slideAwayTriggered = false;
                    }, 1000);
                }
            });
            
            function summonHammerCharacter() {
                const btnRect = runawayBtn.getBoundingClientRect();
                const btnCenterX = btnRect.left + btnRect.width / 2;
                const btnCenterY = btnRect.top + btnRect.height / 2;
                
                cuteCharacter.classList.add('visible');
                
                setTimeout(() => {
                    cuteCharacter.style.right = '50%';
                }, 100);
                
                setTimeout(() => {
                    cuteCharacter.style.right = (window.innerWidth - btnCenterX - 40) + 'px';
                    cuteCharacter.style.top = (btnCenterY - 20) + 'px';
                }, 1500);
                
                setTimeout(() => {
                    const hammer = cuteCharacter.querySelector('.hammer');
                    hammer.classList.add('smash');
                    
                    setTimeout(() => {
                        runawayBtn.classList.add('cracked');
                        
                        setTimeout(() => {
                            // Hide original button and show broken pieces
                            runawayBtn.style.opacity = '0';
                            breakLeftPiece.style.display = 'flex';
                            breakRightPiece.style.display = 'flex';
                            
                            // Start falling animation for pieces
                            breakLeftPiece.style.animationPlayState = 'running';
                            breakRightPiece.style.animationPlayState = 'running';
                            
                            setTimeout(() => {
                                // Hide broken pieces and show fixed button
                                breakLeftPiece.style.display = 'none';
                                breakRightPiece.style.display = 'none';
                                runawayBtn.style.display = 'none';
                                fixedBtn.style.display = 'block';
                                
                                // Move cute character away
                                cuteCharacter.style.right = '-100px';
                                setTimeout(() => {
                                    cuteCharacter.classList.remove('visible');
                                }, 1000);
                            }, 1000);
                        }, 500);
                    }, 200);
                }, 2000);
            }
        });
    </script>
</body>
</html>